<!DOCTYPE html>
{% extends "foundation/base.html" %}
<head>
	
	
</head>
<html>

{% if assig %}


{% block base_body %}
{%include "navBar/bar.html" %}

{% load staticfiles %}
<br>
<form id="assigForm" action={{action}}>{% csrf_token %}
	<div class="row">
		<div class="row collapse" id="imgFyz" align="center">

			<br><br><br><br><br>
			<label class="small-9 collumns" id="label">
				<script src="{% static "js/frTo.js" %}"></script>
				{{question}}<script>
				decider("{{p1}}");</script> = ? <script>decider("{{p2}}");</script>
			</label>
			<br>
			<div class="large-3 collumns" id="userPart">
				<div class="row collapse">
						<input id="input" type="number" name="ans" placeholder="write an answer here" step="0.01" required/>
				</div>
				<div id="assigment" align="center"></div>
			</div>
			<div class="large-6 rows" id="answer"></div>
		</div>
		<div class="progress" id="testCounter"></div>
	  	<div class="large-1 columns" id="next">
			<input id="sub" type="submit" class="button" value="Odpovedat" />
		</div>

  		<div class="large-1 large-offset-5 columns" id="hint">
  			<a><img onclick="javascript:useHint()" src="{% static "img/hint.png"%}" alt="click for help" width="50" height="50"></a>
  		</div>
	</div>
	
	<div id="myModal" class="reveal-modal small" data-reveal>
		1 {{p1}} -> <span id="after"></span> {{p2}}		
		<a class="close-reveal-modal">&#215;</a>
	</div>
</form>
<script src="{% static "js/nextQuestion.js" %}"></script>
<script src="{% static "js/pieTimer.js" %}"></script>
<script src="{% static "js/jquery-1.11.1.min.js" %}"></script>
<script src="{% static "js/answerForm.js" %}"></script>
<script src="{% static "js/finish.js" %}"></script>
<p id="timeTest" style="height: 150px;">d</p>
<script>
 	window.onload = function() {
 		hanleNextQuestion("{{type}}","{{test}}");
		drawTimer("timeTest",5,100,100);
	};
	var csrftoken = getCookie('csrftoken');
	$('#assigForm').on('submit', function(event){
		var doc = document.getElementById("assigForm");
    	event.preventDefault();
    	create_post(JSON.stringify({
			p1:"{{p1}}",
			p2:"{{p2}}",
			question:"{{question}}",
			used_hint:used_hint,
		}),"{{type}}");
	});
	var used_hint=0;
	if ("{{type}}" == "temp"){
		function useHint(){
		alert("{{type}}");
			tempHint("{{p1}}","{{p2}}");
		}
	} else {
	    function useHint(){
	        hint(JSON.stringify({
			type:"{{type}}",
			p1:"{{p1}}",
			p2:"{{p2}}"}));
		};
	}
</script>
<div id="timer"></div>
<script src="{% static "js/hint.js"%}"></script>
	<input type="text" id="txt">
 	<script src="{% static "js/time.js"%}"></script>

<style>
	#imgFyz{  
		background: url({% static "img/MathBoard.png" %}) no-repeat;
		background-size: 100% 100%;
		height: 500px;
	}
	#imgEu{  
		background: url({% static "img/euro.png" %}) no-repeat;
		background-color: transparent;
		background-size: 100% 100%;
		height: 500px;
	}
	#imgCz{  
		background: url({% static "img/cz.png" %}) no-repeat;
		background-color: transparent;
		background-size: 100% 100%;
		height: 500px;
	}
	#label{
		color: white;
		font: normal 25px courier !important;
	}
	#input{
	    background-color:rgba(0, 0, 0, 0);
	    color:white;
	    border: none;
	    outline:none;
	    /*height:35px;*/
	    /*transition:height 1s;*/
	    /*-webkit-transition:height 1s;*/
	}
	#userPart{
		/*margin-left: 35px;*/
	}
</style>
<script>
	var from = "{{p1}}";
	if(from == 'CZK'){
		$("#imgFyz").attr("id","imgCz");
		$("#label").css("color","black");
		$("#input").css("color","black");
	}
	if(from == 'EUR'){
		$("#imgFyz").attr("id","imgEu");
		$("#label").css("color","black");
		$("#input").css("color","black");
	}
</script>
{% endblock base_body %}

{% else %}
	<p>No assigment is available</p>
{% endif %}

</html>
 
